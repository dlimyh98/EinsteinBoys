{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react'; // Custom Hook to alert React that token retrieval was successful, by triggering a re-render when data changes\n\nexport default function useToken() {\n  _s();\n\n  // Retrieve token to render correct page\n  const getToken = () => {\n    const tokenString = sessionStorage.getItem('token'); // Retrieve token using Key\n\n    const userToken = JSON.parse(tokenString); // Convert to JSON\n\n    return userToken === null || userToken === void 0 ? void 0 : userToken.token; // Chaining operator, since userTokenStoredKey is invalid for first session\n  }; // State initialised with retrieveToken\n\n\n  const [token, setToken] = useState(getToken()); // useState here triggers re-render\n  // Session Storage (for Authentication) + updating State\n  // storedToken is placeholder for function below it\n\n  const saveToken = userToken => {\n    sessionStorage.setItem('token', JSON.stringify(userToken)); // Saving to Session Storage\n\n    setToken(userToken.token); // Updating Stateful Value\n  }; // Return an Object\n\n\n  return {\n    returnToken: saveToken,\n    token\n  };\n}\n\n_s(useToken, \"YxmPjHzwYO/ewBTUGNAd/YBNtug=\");","map":{"version":3,"sources":["/Users/Damien/tasktracker/src/components/AuthPage/useToken.js"],"names":["useState","useToken","getToken","tokenString","sessionStorage","getItem","userToken","JSON","parse","token","setToken","saveToken","setItem","stringify","returnToken"],"mappings":";;AAAA,SAAQA,QAAR,QAAuB,OAAvB,C,CAEA;;AACA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAE/B;AACA,QAAMC,QAAQ,GAAG,MAAM;AACnB,UAAMC,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB,CADmB,CACqC;;AACxD,UAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAlB,CAFmB,CAE8C;;AACjE,WAAOG,SAAP,aAAOA,SAAP,uBAAOA,SAAS,CAAEG,KAAlB,CAHmB,CAGO;AAC7B,GAJD,CAH+B,CAS/B;;;AACA,QAAK,CAACA,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAACE,QAAQ,EAAT,CAAjC,CAV+B,CAUkB;AAEjD;AACA;;AACA,QAAMS,SAAS,GAAIL,SAAD,IAAe;AAC7BF,IAAAA,cAAc,CAACQ,OAAf,CAAuB,OAAvB,EAAgCL,IAAI,CAACM,SAAL,CAAeP,SAAf,CAAhC,EAD6B,CACgC;;AAC7DI,IAAAA,QAAQ,CAACJ,SAAS,CAACG,KAAX,CAAR,CAF6B,CAEyD;AACzF,GAHD,CAd+B,CAmB/B;;;AACA,SAAO;AACHK,IAAAA,WAAW,EAAGH,SADX;AACsBF,IAAAA;AADtB,GAAP;AAKH;;GAzBuBR,Q","sourcesContent":["import {useState} from 'react'\n\n// Custom Hook to alert React that token retrieval was successful, by triggering a re-render when data changes\nexport default function useToken() {\n\n    // Retrieve token to render correct page\n    const getToken = () => {\n        const tokenString = sessionStorage.getItem('token')     // Retrieve token using Key\n        const userToken = JSON.parse(tokenString)                        // Convert to JSON\n        return userToken?.token   // Chaining operator, since userTokenStoredKey is invalid for first session\n    };\n\n    // State initialised with retrieveToken\n    const[token, setToken] = useState(getToken())    // useState here triggers re-render\n\n    // Session Storage (for Authentication) + updating State\n    // storedToken is placeholder for function below it\n    const saveToken = (userToken) => {\n        sessionStorage.setItem('token', JSON.stringify(userToken));  // Saving to Session Storage\n        setToken(userToken.token)                                                             // Updating Stateful Value\n    }\n\n    // Return an Object\n    return {\n        returnToken : saveToken, token\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}